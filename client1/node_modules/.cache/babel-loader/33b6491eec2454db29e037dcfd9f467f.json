{"ast":null,"code":"'use strict';\n\nvar TOKEN = /([!#\\$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+)/,\n    NOTOKEN = /([^!#\\$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z])/g,\n    QUOTED = /\"((?:\\\\[\\x00-\\x7f]|[^\\x00-\\x08\\x0a-\\x1f\\x7f\"\\\\])*)\"/,\n    PARAM = new RegExp(TOKEN.source + '(?:=(?:' + TOKEN.source + '|' + QUOTED.source + '))?'),\n    EXT = new RegExp(TOKEN.source + '(?: *; *' + PARAM.source + ')*', 'g'),\n    EXT_LIST = new RegExp('^' + EXT.source + '(?: *, *' + EXT.source + ')*$'),\n    NUMBER = /^-?(0|[1-9][0-9]*)(\\.[0-9]+)?$/;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar Parser = {\n  parseHeader: function (header) {\n    var offers = new Offers();\n    if (header === '' || header === undefined) return offers;\n    if (!EXT_LIST.test(header)) throw new SyntaxError('Invalid Sec-WebSocket-Extensions header: ' + header);\n    var values = header.match(EXT);\n    values.forEach(function (value) {\n      var params = value.match(new RegExp(PARAM.source, 'g')),\n          name = params.shift(),\n          offer = {};\n      params.forEach(function (param) {\n        var args = param.match(PARAM),\n            key = args[1],\n            data;\n\n        if (args[2] !== undefined) {\n          data = args[2];\n        } else if (args[3] !== undefined) {\n          data = args[3].replace(/\\\\/g, '');\n        } else {\n          data = true;\n        }\n\n        if (NUMBER.test(data)) data = parseFloat(data);\n\n        if (hasOwnProperty.call(offer, key)) {\n          offer[key] = [].concat(offer[key]);\n          offer[key].push(data);\n        } else {\n          offer[key] = data;\n        }\n      }, this);\n      offers.push(name, offer);\n    }, this);\n    return offers;\n  },\n  serializeParams: function (name, params) {\n    var values = [];\n\n    var print = function (key, value) {\n      if (value instanceof Array) {\n        value.forEach(function (v) {\n          print(key, v);\n        });\n      } else if (value === true) {\n        values.push(key);\n      } else if (typeof value === 'number') {\n        values.push(key + '=' + value);\n      } else if (NOTOKEN.test(value)) {\n        values.push(key + '=\"' + value.replace(/\"/g, '\\\\\"') + '\"');\n      } else {\n        values.push(key + '=' + value);\n      }\n    };\n\n    for (var key in params) print(key, params[key]);\n\n    return [name].concat(values).join('; ');\n  }\n};\n\nvar Offers = function () {\n  this._byName = {};\n  this._inOrder = [];\n};\n\nOffers.prototype.push = function (name, params) {\n  if (!hasOwnProperty.call(this._byName, name)) this._byName[name] = [];\n\n  this._byName[name].push(params);\n\n  this._inOrder.push({\n    name: name,\n    params: params\n  });\n};\n\nOffers.prototype.eachOffer = function (callback, context) {\n  var list = this._inOrder;\n\n  for (var i = 0, n = list.length; i < n; i++) callback.call(context, list[i].name, list[i].params);\n};\n\nOffers.prototype.byName = function (name) {\n  return this._byName[name] || [];\n};\n\nOffers.prototype.toArray = function () {\n  return this._inOrder.slice();\n};\n\nmodule.exports = Parser;","map":{"version":3,"names":["TOKEN","NOTOKEN","QUOTED","PARAM","RegExp","source","EXT","EXT_LIST","NUMBER","hasOwnProperty","Object","prototype","Parser","parseHeader","header","offers","Offers","undefined","test","SyntaxError","values","match","forEach","value","params","name","shift","offer","param","args","key","data","replace","parseFloat","call","concat","push","serializeParams","print","Array","v","join","_byName","_inOrder","eachOffer","callback","context","list","i","n","length","byName","toArray","slice","module","exports"],"sources":["/home/faisal/ServerExample/client/client/node_modules/websocket-extensions/lib/parser.js"],"sourcesContent":["'use strict';\n\nvar TOKEN    = /([!#\\$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+)/,\n    NOTOKEN  = /([^!#\\$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z])/g,\n    QUOTED   = /\"((?:\\\\[\\x00-\\x7f]|[^\\x00-\\x08\\x0a-\\x1f\\x7f\"\\\\])*)\"/,\n    PARAM    = new RegExp(TOKEN.source + '(?:=(?:' + TOKEN.source + '|' + QUOTED.source + '))?'),\n    EXT      = new RegExp(TOKEN.source + '(?: *; *' + PARAM.source + ')*', 'g'),\n    EXT_LIST = new RegExp('^' + EXT.source + '(?: *, *' + EXT.source + ')*$'),\n    NUMBER   = /^-?(0|[1-9][0-9]*)(\\.[0-9]+)?$/;\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar Parser = {\n  parseHeader: function(header) {\n    var offers = new Offers();\n    if (header === '' || header === undefined) return offers;\n\n    if (!EXT_LIST.test(header))\n      throw new SyntaxError('Invalid Sec-WebSocket-Extensions header: ' + header);\n\n    var values = header.match(EXT);\n\n    values.forEach(function(value) {\n      var params = value.match(new RegExp(PARAM.source, 'g')),\n          name   = params.shift(),\n          offer  = {};\n\n      params.forEach(function(param) {\n        var args = param.match(PARAM), key = args[1], data;\n\n        if (args[2] !== undefined) {\n          data = args[2];\n        } else if (args[3] !== undefined) {\n          data = args[3].replace(/\\\\/g, '');\n        } else {\n          data = true;\n        }\n        if (NUMBER.test(data)) data = parseFloat(data);\n\n        if (hasOwnProperty.call(offer, key)) {\n          offer[key] = [].concat(offer[key]);\n          offer[key].push(data);\n        } else {\n          offer[key] = data;\n        }\n      }, this);\n      offers.push(name, offer);\n    }, this);\n\n    return offers;\n  },\n\n  serializeParams: function(name, params) {\n    var values = [];\n\n    var print = function(key, value) {\n      if (value instanceof Array) {\n        value.forEach(function(v) { print(key, v) });\n      } else if (value === true) {\n        values.push(key);\n      } else if (typeof value === 'number') {\n        values.push(key + '=' + value);\n      } else if (NOTOKEN.test(value)) {\n        values.push(key + '=\"' + value.replace(/\"/g, '\\\\\"') + '\"');\n      } else {\n        values.push(key + '=' + value);\n      }\n    };\n\n    for (var key in params) print(key, params[key]);\n\n    return [name].concat(values).join('; ');\n  }\n};\n\nvar Offers = function() {\n  this._byName  = {};\n  this._inOrder = [];\n};\n\nOffers.prototype.push = function(name, params) {\n  if (!hasOwnProperty.call(this._byName, name))\n    this._byName[name] = [];\n\n  this._byName[name].push(params);\n  this._inOrder.push({ name: name, params: params });\n};\n\nOffers.prototype.eachOffer = function(callback, context) {\n  var list = this._inOrder;\n  for (var i = 0, n = list.length; i < n; i++)\n    callback.call(context, list[i].name, list[i].params);\n};\n\nOffers.prototype.byName = function(name) {\n  return this._byName[name] || [];\n};\n\nOffers.prototype.toArray = function() {\n  return this._inOrder.slice();\n};\n\nmodule.exports = Parser;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
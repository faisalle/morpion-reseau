{"ast":null,"code":"// Generated by CoffeeScript 1.12.7\n(function () {\n  var FayeWebsocket,\n      RawWebsocketSessionReceiver,\n      Transport,\n      WebSocketReceiver,\n      transport,\n      utils,\n      extend = function (child, parent) {\n    for (var key in parent) {\n      if (hasProp.call(parent, key)) child[key] = parent[key];\n    }\n\n    function ctor() {\n      this.constructor = child;\n    }\n\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype;\n    return child;\n  },\n      hasProp = {}.hasOwnProperty;\n\n  FayeWebsocket = require('faye-websocket');\n  utils = require('./utils');\n  transport = require('./transport');\n  exports.app = {\n    _websocket_check: function (req, connection, head) {\n      if (!FayeWebsocket.isWebSocket(req)) {\n        throw {\n          status: 400,\n          message: 'Not a valid websocket request'\n        };\n      }\n    },\n    sockjs_websocket: function (req, connection, head) {\n      var ws;\n\n      this._websocket_check(req, connection, head);\n\n      ws = new FayeWebsocket(req, connection, head, null, this.options.faye_server_options);\n\n      ws.onopen = function (_this) {\n        return function () {\n          return transport.registerNoSession(req, _this, new WebSocketReceiver(ws, connection));\n        };\n      }(this);\n\n      return true;\n    },\n    raw_websocket: function (req, connection, head) {\n      var ver, ws;\n\n      this._websocket_check(req, connection, head);\n\n      ver = req.headers['sec-websocket-version'] || '';\n\n      if (['8', '13'].indexOf(ver) === -1) {\n        throw {\n          status: 400,\n          message: 'Only supported WebSocket protocol is RFC 6455.'\n        };\n      }\n\n      ws = new FayeWebsocket(req, connection, head, null, this.options.faye_server_options);\n\n      ws.onopen = function (_this) {\n        return function () {\n          return new RawWebsocketSessionReceiver(req, connection, _this, ws);\n        };\n      }(this);\n\n      return true;\n    }\n  };\n\n  WebSocketReceiver = function (superClass) {\n    extend(WebSocketReceiver, superClass);\n    WebSocketReceiver.prototype.protocol = \"websocket\";\n\n    function WebSocketReceiver(ws1, connection1) {\n      var x;\n      this.ws = ws1;\n      this.connection = connection1;\n\n      try {\n        this.connection.setKeepAlive(true, 5000);\n        this.connection.setNoDelay(true);\n      } catch (error) {\n        x = error;\n      }\n\n      this.ws.addEventListener('message', function (_this) {\n        return function (m) {\n          return _this.didMessage(m.data);\n        };\n      }(this));\n\n      this.heartbeat_cb = function (_this) {\n        return function () {\n          return _this.heartbeat_timeout();\n        };\n      }(this);\n\n      WebSocketReceiver.__super__.constructor.call(this, this.connection);\n    }\n\n    WebSocketReceiver.prototype.setUp = function () {\n      WebSocketReceiver.__super__.setUp.apply(this, arguments);\n\n      return this.ws.addEventListener('close', this.thingy_end_cb);\n    };\n\n    WebSocketReceiver.prototype.tearDown = function () {\n      this.ws.removeEventListener('close', this.thingy_end_cb);\n      return WebSocketReceiver.__super__.tearDown.apply(this, arguments);\n    };\n\n    WebSocketReceiver.prototype.didMessage = function (payload) {\n      var i, len, message, msg, results, x;\n\n      if (this.ws && this.session && payload.length > 0) {\n        try {\n          message = JSON.parse(payload);\n        } catch (error) {\n          x = error;\n          return this.didClose(3000, 'Broken framing.');\n        }\n\n        if (payload[0] === '[') {\n          results = [];\n\n          for (i = 0, len = message.length; i < len; i++) {\n            msg = message[i];\n            results.push(this.session.didMessage(msg));\n          }\n\n          return results;\n        } else {\n          return this.session.didMessage(message);\n        }\n      }\n    };\n\n    WebSocketReceiver.prototype.doSendFrame = function (payload) {\n      var x;\n\n      if (this.ws) {\n        try {\n          this.ws.send(payload);\n          return true;\n        } catch (error) {\n          x = error;\n        }\n      }\n\n      return false;\n    };\n\n    WebSocketReceiver.prototype.didClose = function (status, reason) {\n      var x;\n\n      if (status == null) {\n        status = 1000;\n      }\n\n      if (reason == null) {\n        reason = \"Normal closure\";\n      }\n\n      WebSocketReceiver.__super__.didClose.apply(this, arguments);\n\n      try {\n        this.ws.close(status, reason, false);\n      } catch (error) {\n        x = error;\n      }\n\n      this.ws = null;\n      return this.connection = null;\n    };\n\n    WebSocketReceiver.prototype.heartbeat = function () {\n      var hto_ref, supportsHeartbeats;\n      supportsHeartbeats = this.ws.ping(null, function () {\n        return clearTimeout(hto_ref);\n      });\n\n      if (supportsHeartbeats) {\n        return hto_ref = setTimeout(this.heartbeat_cb, 10000);\n      } else {\n        return WebSocketReceiver.__super__.heartbeat.apply(this, arguments);\n      }\n    };\n\n    WebSocketReceiver.prototype.heartbeat_timeout = function () {\n      if (this.session != null) {\n        return this.session.close(3000, 'No response from heartbeat');\n      }\n    };\n\n    return WebSocketReceiver;\n  }(transport.GenericReceiver);\n\n  Transport = transport.Transport;\n\n  RawWebsocketSessionReceiver = function (superClass) {\n    extend(RawWebsocketSessionReceiver, superClass);\n\n    function RawWebsocketSessionReceiver(req, conn, server, ws1) {\n      this.ws = ws1;\n      this.prefix = server.options.prefix;\n      this.readyState = Transport.OPEN;\n      this.recv = {\n        connection: conn,\n        protocol: \"websocket-raw\"\n      };\n      this.connection = new transport.SockJSConnection(this);\n      this.decorateConnection(req);\n      server.emit('connection', this.connection);\n\n      this._end_cb = function (_this) {\n        return function () {\n          return _this.didClose();\n        };\n      }(this);\n\n      this.ws.addEventListener('close', this._end_cb);\n\n      this._message_cb = function (_this) {\n        return function (m) {\n          return _this.didMessage(m);\n        };\n      }(this);\n\n      this.ws.addEventListener('message', this._message_cb);\n    }\n\n    RawWebsocketSessionReceiver.prototype.didMessage = function (m) {\n      if (this.readyState === Transport.OPEN) {\n        this.connection.emit('data', m.data);\n      }\n    };\n\n    RawWebsocketSessionReceiver.prototype.send = function (payload) {\n      if (this.readyState !== Transport.OPEN) {\n        return false;\n      }\n\n      this.ws.send(payload);\n      return true;\n    };\n\n    RawWebsocketSessionReceiver.prototype.close = function (status, reason) {\n      if (status == null) {\n        status = 1000;\n      }\n\n      if (reason == null) {\n        reason = \"Normal closure\";\n      }\n\n      if (this.readyState !== Transport.OPEN) {\n        return false;\n      }\n\n      this.readyState = Transport.CLOSING;\n      this.ws.close(status, reason, false);\n      return true;\n    };\n\n    RawWebsocketSessionReceiver.prototype.didClose = function () {\n      var x;\n\n      if (!this.ws) {\n        return;\n      }\n\n      this.ws.removeEventListener('message', this._message_cb);\n      this.ws.removeEventListener('close', this._end_cb);\n\n      try {\n        this.ws.close(1000, \"Normal closure\", false);\n      } catch (error) {\n        x = error;\n      }\n\n      this.ws = null;\n      this.readyState = Transport.CLOSED;\n      this.connection.emit('end');\n      this.connection.emit('close');\n      return this.connection = null;\n    };\n\n    return RawWebsocketSessionReceiver;\n  }(transport.Session);\n}).call(this);","map":{"version":3,"names":["FayeWebsocket","RawWebsocketSessionReceiver","Transport","WebSocketReceiver","transport","utils","extend","child","parent","key","hasProp","call","ctor","constructor","prototype","__super__","hasOwnProperty","require","exports","app","_websocket_check","req","connection","head","isWebSocket","status","message","sockjs_websocket","ws","options","faye_server_options","onopen","_this","registerNoSession","raw_websocket","ver","headers","indexOf","superClass","protocol","ws1","connection1","x","setKeepAlive","setNoDelay","error","addEventListener","m","didMessage","data","heartbeat_cb","heartbeat_timeout","setUp","apply","arguments","thingy_end_cb","tearDown","removeEventListener","payload","i","len","msg","results","session","length","JSON","parse","didClose","push","doSendFrame","send","reason","close","heartbeat","hto_ref","supportsHeartbeats","ping","clearTimeout","setTimeout","GenericReceiver","conn","server","prefix","readyState","OPEN","recv","SockJSConnection","decorateConnection","emit","_end_cb","_message_cb","CLOSING","CLOSED","Session"],"sources":["/home/faisal/ServerExample/client/client/node_modules/sockjs/lib/trans-websocket.js"],"sourcesContent":["// Generated by CoffeeScript 1.12.7\n(function() {\n  var FayeWebsocket, RawWebsocketSessionReceiver, Transport, WebSocketReceiver, transport, utils,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  FayeWebsocket = require('faye-websocket');\n\n  utils = require('./utils');\n\n  transport = require('./transport');\n\n  exports.app = {\n    _websocket_check: function(req, connection, head) {\n      if (!FayeWebsocket.isWebSocket(req)) {\n        throw {\n          status: 400,\n          message: 'Not a valid websocket request'\n        };\n      }\n    },\n    sockjs_websocket: function(req, connection, head) {\n      var ws;\n      this._websocket_check(req, connection, head);\n      ws = new FayeWebsocket(req, connection, head, null, this.options.faye_server_options);\n      ws.onopen = (function(_this) {\n        return function() {\n          return transport.registerNoSession(req, _this, new WebSocketReceiver(ws, connection));\n        };\n      })(this);\n      return true;\n    },\n    raw_websocket: function(req, connection, head) {\n      var ver, ws;\n      this._websocket_check(req, connection, head);\n      ver = req.headers['sec-websocket-version'] || '';\n      if (['8', '13'].indexOf(ver) === -1) {\n        throw {\n          status: 400,\n          message: 'Only supported WebSocket protocol is RFC 6455.'\n        };\n      }\n      ws = new FayeWebsocket(req, connection, head, null, this.options.faye_server_options);\n      ws.onopen = (function(_this) {\n        return function() {\n          return new RawWebsocketSessionReceiver(req, connection, _this, ws);\n        };\n      })(this);\n      return true;\n    }\n  };\n\n  WebSocketReceiver = (function(superClass) {\n    extend(WebSocketReceiver, superClass);\n\n    WebSocketReceiver.prototype.protocol = \"websocket\";\n\n    function WebSocketReceiver(ws1, connection1) {\n      var x;\n      this.ws = ws1;\n      this.connection = connection1;\n      try {\n        this.connection.setKeepAlive(true, 5000);\n        this.connection.setNoDelay(true);\n      } catch (error) {\n        x = error;\n      }\n      this.ws.addEventListener('message', (function(_this) {\n        return function(m) {\n          return _this.didMessage(m.data);\n        };\n      })(this));\n      this.heartbeat_cb = (function(_this) {\n        return function() {\n          return _this.heartbeat_timeout();\n        };\n      })(this);\n      WebSocketReceiver.__super__.constructor.call(this, this.connection);\n    }\n\n    WebSocketReceiver.prototype.setUp = function() {\n      WebSocketReceiver.__super__.setUp.apply(this, arguments);\n      return this.ws.addEventListener('close', this.thingy_end_cb);\n    };\n\n    WebSocketReceiver.prototype.tearDown = function() {\n      this.ws.removeEventListener('close', this.thingy_end_cb);\n      return WebSocketReceiver.__super__.tearDown.apply(this, arguments);\n    };\n\n    WebSocketReceiver.prototype.didMessage = function(payload) {\n      var i, len, message, msg, results, x;\n      if (this.ws && this.session && payload.length > 0) {\n        try {\n          message = JSON.parse(payload);\n        } catch (error) {\n          x = error;\n          return this.didClose(3000, 'Broken framing.');\n        }\n        if (payload[0] === '[') {\n          results = [];\n          for (i = 0, len = message.length; i < len; i++) {\n            msg = message[i];\n            results.push(this.session.didMessage(msg));\n          }\n          return results;\n        } else {\n          return this.session.didMessage(message);\n        }\n      }\n    };\n\n    WebSocketReceiver.prototype.doSendFrame = function(payload) {\n      var x;\n      if (this.ws) {\n        try {\n          this.ws.send(payload);\n          return true;\n        } catch (error) {\n          x = error;\n        }\n      }\n      return false;\n    };\n\n    WebSocketReceiver.prototype.didClose = function(status, reason) {\n      var x;\n      if (status == null) {\n        status = 1000;\n      }\n      if (reason == null) {\n        reason = \"Normal closure\";\n      }\n      WebSocketReceiver.__super__.didClose.apply(this, arguments);\n      try {\n        this.ws.close(status, reason, false);\n      } catch (error) {\n        x = error;\n      }\n      this.ws = null;\n      return this.connection = null;\n    };\n\n    WebSocketReceiver.prototype.heartbeat = function() {\n      var hto_ref, supportsHeartbeats;\n      supportsHeartbeats = this.ws.ping(null, function() {\n        return clearTimeout(hto_ref);\n      });\n      if (supportsHeartbeats) {\n        return hto_ref = setTimeout(this.heartbeat_cb, 10000);\n      } else {\n        return WebSocketReceiver.__super__.heartbeat.apply(this, arguments);\n      }\n    };\n\n    WebSocketReceiver.prototype.heartbeat_timeout = function() {\n      if (this.session != null) {\n        return this.session.close(3000, 'No response from heartbeat');\n      }\n    };\n\n    return WebSocketReceiver;\n\n  })(transport.GenericReceiver);\n\n  Transport = transport.Transport;\n\n  RawWebsocketSessionReceiver = (function(superClass) {\n    extend(RawWebsocketSessionReceiver, superClass);\n\n    function RawWebsocketSessionReceiver(req, conn, server, ws1) {\n      this.ws = ws1;\n      this.prefix = server.options.prefix;\n      this.readyState = Transport.OPEN;\n      this.recv = {\n        connection: conn,\n        protocol: \"websocket-raw\"\n      };\n      this.connection = new transport.SockJSConnection(this);\n      this.decorateConnection(req);\n      server.emit('connection', this.connection);\n      this._end_cb = (function(_this) {\n        return function() {\n          return _this.didClose();\n        };\n      })(this);\n      this.ws.addEventListener('close', this._end_cb);\n      this._message_cb = (function(_this) {\n        return function(m) {\n          return _this.didMessage(m);\n        };\n      })(this);\n      this.ws.addEventListener('message', this._message_cb);\n    }\n\n    RawWebsocketSessionReceiver.prototype.didMessage = function(m) {\n      if (this.readyState === Transport.OPEN) {\n        this.connection.emit('data', m.data);\n      }\n    };\n\n    RawWebsocketSessionReceiver.prototype.send = function(payload) {\n      if (this.readyState !== Transport.OPEN) {\n        return false;\n      }\n      this.ws.send(payload);\n      return true;\n    };\n\n    RawWebsocketSessionReceiver.prototype.close = function(status, reason) {\n      if (status == null) {\n        status = 1000;\n      }\n      if (reason == null) {\n        reason = \"Normal closure\";\n      }\n      if (this.readyState !== Transport.OPEN) {\n        return false;\n      }\n      this.readyState = Transport.CLOSING;\n      this.ws.close(status, reason, false);\n      return true;\n    };\n\n    RawWebsocketSessionReceiver.prototype.didClose = function() {\n      var x;\n      if (!this.ws) {\n        return;\n      }\n      this.ws.removeEventListener('message', this._message_cb);\n      this.ws.removeEventListener('close', this._end_cb);\n      try {\n        this.ws.close(1000, \"Normal closure\", false);\n      } catch (error) {\n        x = error;\n      }\n      this.ws = null;\n      this.readyState = Transport.CLOSED;\n      this.connection.emit('end');\n      this.connection.emit('close');\n      return this.connection = null;\n    };\n\n    return RawWebsocketSessionReceiver;\n\n  })(transport.Session);\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}